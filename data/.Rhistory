shiny::runApp()
runApp()
if (!require(librarian)){
install.packages("librarian")
library(librarian)
}
shelf(
bslib,
dygraphs,
glue,
fs,
here,
kableExtra,
leaflet,
lubridate,
marinebon/seascapeR,
raster,
readr,
shiny,
stringr)
# Note: joshuaulrich/xts needed over CRAN xts for plot_ts_ss() with dygraphs(retainDateWindow = T) to work
sanctuaries           <- nms
sanctuaries$azores <- "Azores_MPAs"
sanctuaries <- sanctuaries[c(4,15)]
sanctuaries[["pmnm"]] <- NULL
sanctuaries           <- setNames(
names(sanctuaries), sanctuaries)
#dir_data <- here("data")
#dir_data <-setwd("../data_S") #The working directory must be set as current directory
dir_data <- "https://raw.githubusercontent.com/adrianocl/Seascapes4Portugal/main/data"
dir_ply  <- glue("{dir_data}/ply")
dir_grd  <- glue("{dir_data}/grd")
#dir_ply_GH <-
ss_dataset <- "global_monthly" # TODO: + "global_8day"
ss_var     <- "CLASS"          # TODO: + "P"
#ss_info <- get_ss_info(ss_dataset)
ts_csv <- paste0(dir_grd,"/azores/",fixed(glue("{ss_dataset}_{ss_var}.csv")))
ts <- read_csv(ts_csv, col_types = cols())
locale <- as.character(ts[[20]])
locale <- as.character(ts[[4]])
locale <- as.character(ts[[2300]])
locale <- as.character(ts[[,2300]])
locale <- as.character(ts[[2300,]])
locale <- as.character(ts[2300])
ts[2300]
ts <- read::read_csv(ts_csv, col_types = cols())
ts <- readr::read_csv(ts_csv, col_types = cols())
locale <- as.character(ts[[4]])
raw <- system("systeminfo /FO csv", intern = TRUE, wait = TRUE)
raw <- system("systeminfo /FO csv", intern = TRUE, wait = TRUE)
# I get a warning
info.csv <- read.csv(textConnection(raw))
#> Error in read.table(file = file, header = header, sep = sep, quote = quote, : incomplete final line found by readTableHeader on 'raw'
# I get no warning
info_csv <- readr::read_csv(raw)
#  and locale can be detected
locale <- as.character(info_csv[[20]])
raw
?rsconnect::options
